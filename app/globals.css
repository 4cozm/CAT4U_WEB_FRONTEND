@import "tailwindcss";

@source "../node_modules/@blocknote/shadcn/**/*.{js,ts,jsx,tsx}";
/* =========================
   Theme tokens
========================= */
:root {
  --bg: #0b101a;

  --glass: rgba(16, 20, 28, 0.55);
  --glass-strong: rgba(16, 20, 28, 0.68);
  --stroke: rgba(255, 255, 255, 0.1);
  --stroke-lite: rgba(255, 255, 255, 0.2);
  --shadow: 0 6px 20px rgba(0, 0, 0, 0.3);

  --text: #e6edf7;
  --muted: #9aa7b6;
  --primary: #66b2ff;
  --secondary: #3ddc97;
  --accent: #ffb44d;

  --header-h: 88px;
  --header-gap: 18px;
}

@media (min-width: 768px) {
  :root {
    --header-h: 96px;
    --header-gap: 22px;
  }
}

/* =========================
   Base
========================= */
.text-base-color {
  color: var(--text);
}
.text-muted {
  color: var(--muted);
}

html,
body {
  /* 사용자의 환경과 무관하게 다크 고정 */
  color-scheme: dark;
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "Segoe UI", Roboto, Inter, system-ui,
    sans-serif;

  overflow-x: hidden;
  padding-top: calc(var(--header-h) + var(--header-gap));
}

/* 포커스 링 */
:focus-visible {
  outline: 2px solid color-mix(in oklab, var(--primary) 90%, transparent);
  outline-offset: 3px;
}

/* =========================
   Glass utilities
========================= */
.glass {
  background: var(--glass);
  border: 1px solid var(--stroke);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: var(--shadow);
}
.glass-strong {
  background: var(--glass-strong);
  border: 1px solid var(--stroke);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
}

@supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
  .glass,
  .glass-strong {
    background: rgba(20, 24, 32, 0.85);
  }
}

/* =========================
   Button / Link
========================= */
.btn-neu {
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 14px;
  color: var(--text);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06), 0 6px 16px rgba(0, 0, 0, 0.35);
  transition: box-shadow 160ms ease, transform 120ms ease, background 160ms ease;
}
.btn-neu:hover {
  background: rgba(255, 255, 255, 0.12);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08), 0 10px 24px rgba(0, 0, 0, 0.4);
}
.btn-neu:active {
  transform: translateY(1px);
  box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.25), 0 4px 14px rgba(0, 0, 0, 0.28);
}

.link-underline::after {
  background: linear-gradient(90deg, var(--primary), color-mix(in oklab, var(--primary) 60%, var(--secondary)));
  height: 2px;
}

/* =========================
   Hover effects
========================= */
.listcard-hover {
  transition: border-color 500ms ease-out, box-shadow 500ms ease-out;
}
.listcard-hover:hover {
  border-color: var(--primary);
  box-shadow: 0 0 12px color-mix(in oklab, var(--primary) 40%, transparent);
}

/* =========================
   Scrollbar (hide)
========================= */
.scrollbar-none::-webkit-scrollbar {
  display: none;
}
.scrollbar-none {
  -ms-overflow-style: none;
  scrollbar-width: none;
  scrollbar-gutter: stable both-edges;
}

/* 웹킷 기반 브라우저 스크롤바 완전 숨김 */
::-webkit-scrollbar {
  width: 0px;
  height: 0px;
}

/* =========================
   Splash / Loading
========================= */
.splash-glass {
  background: radial-gradient(1200px 700px at 20% 20%, rgba(255, 255, 255, 0.06), transparent 60%),
    radial-gradient(900px 600px at 80% 30%, rgba(255, 255, 255, 0.04), transparent 55%),
    radial-gradient(900px 900px at 50% 90%, rgba(0, 0, 0, 0.25), transparent 60%), rgba(0, 0, 0, 0.85);
  border: 1px solid rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(18px) saturate(120%);
  -webkit-backdrop-filter: blur(18px) saturate(120%);
}

@keyframes splashLift {
  0% {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
  100% {
    transform: translate3d(0, -100%, 0);
    opacity: 1;
  }
}
.splash-leave {
  animation: splashLift 0.7s ease-in-out forwards;
}

.loading-letter {
  display: inline-block;
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;

  color: rgba(255, 255, 255, 0.95);
  font-size: 72px;
  font-weight: 700;
  line-height: 1;

  animation: loadingJump 0.9s ease-in-out infinite;
  will-change: transform, opacity;
}

@keyframes loadingJump {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
    opacity: 0.75;
  }
  50% {
    transform: translate3d(0, -16px, 0);
    opacity: 1;
  }
}

/* =========================
   BlockNote overrides
========================= */
/* 편집기 배경은 무조건 투명 */
.ProseMirror.bn-editor {
  background-color: transparent !important;
}

/* 글자색(작성/읽기 공통) */
.bn-container,
.bn-editor {
  color: rgb(248 250 252) !important;
}

/* placeholder */
.bn-editor [data-placeholder]::before {
  color: rgb(148 163 184) !important;
  opacity: 1 !important;
}

/* 링크 */
.bn-editor a {
  color: rgb(96 165 250) !important;
}

/* 읽기 모드 카드 안의 컨테이너 글씨 흰색 강제 (이건 애매하지만 유지) */
.rounded-2xl.bg-white\/5.p-4 .bn-container {
  color: white !important;
}

/* 파일 업로드 버튼 톤 */
.bn-file-block-content-wrapper {
  color: var(--text);
}
.bn-file-block-content-wrapper .bn-add-file-button {
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.12);
  color: var(--text);
  border-radius: 12px;
}
.bn-file-block-content-wrapper .bn-add-file-button:hover {
  background: rgba(255, 255, 255, 0.09) !important;
  border-color: rgba(255, 255, 255, 0.18) !important;
  color: var(--text) !important;
}
.bn-file-block-content-wrapper .bn-add-file-button:hover .bn-add-file-button-icon {
  color: var(--muted) !important;
}

/* 선택(파란 링) 제거: 자식까지 */
.bn-scope .bn-block-content.ProseMirror-selectednode,
.bn-scope .bn-block-content.ProseMirror-selectednode > *,
.bn-scope .ProseMirror-selectednode > .bn-block-content,
.bn-scope .ProseMirror-selectednode > .bn-block-content > * {
  outline: none !important;
  outline-color: transparent !important;
  box-shadow: none !important;
  background: transparent !important;
}

/* 모바일: bn-default-styles가 넣는 좌우 54px 패딩 제거 */
@media (max-width: 639px) {
  .bn-scope .bn-editor.bn-default-styles {
    padding-inline: 15px !important; /* 한 줄로 통일 */
    max-width: none !important;
    width: 100% !important;
    margin-inline: 0 !important;
  }
}
